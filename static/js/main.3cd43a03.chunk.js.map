{"version":3,"sources":["components/app-info/app-info.js","config/constant.js","components/dropfiles/dropfiles.js","components/checkBoxItem/checkBoxItem.js","components/colorControl/colorControl.js","components/controls/controls.js","components/error/error.js","components/svghmi-preferences/svghmi-preferences.js","components/app/app.js","index.js"],"names":["AppInfo","className","API_SERVER","CONFIG_DEFAULT","svgo","name","params","attrs","optimization","delRefs","moveGradients","addDefaults","delGradientTransform","connectBgColor","polyToPath","bgColorId","addFlipInterface","Dropfiles","props","id","files","setFiles","onUploaded","useState","showArrow","setShowArror","onDelete","newFiles","filter","x","length","accept","label","onChange","incommingFiles","value","maxFiles","maxFileSize","url","onUploadFinish","map","file","preview","CheckBoxItem","checked","onClick","section","type","style","display","htmlFor","width","height","viewBox","points","ColorControl","labels","e","target","replace","split","Controls","downloadId","optimized","onOptimize","uploaded","loader","onDownload","fetch","res","blob","element","document","createElement","href","URL","createObjectURL","download","body","appendChild","click","console","error","spanClass","spanText","btnClass","Error","text","SvghmiPreferences","config","onConfigChanged","ShowColorControl","includes","App","setState","optimizeFiles","conf","options","method","headers","JSON","stringify","state","optimizeConf","clientId","response","json","status","prevState","uuidv4","join","prev","newConf","elem","push","data","mode","log","this","Component","title","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3cd43a03.chunk.js","sourcesContent":["import \"./app-info.css\";\n\nconst AppInfo = () => {\n    return (\n        <div className=\"app-info\">\n            <h1>A simple tool for creating dynamic widgets (SVGHMI)</h1>\n            <p className=\"infoBlock\">With this tool your can easily convert your SVG files to Siemens WinCC Unified format <i>SVGHMI</i> and create dynamic widgets in just a couple of steps</p>\n            <ul>\n                <li>First of all you need some svg file for convertion</li>\n                <li>Choose or Drag'n'Drop you files into field below</li>\n                <li>Push upload button</li>\n                <li>Push Convert button</li>\n                <li>And finaly download your ready zip archive</li>\n            </ul>\n            <p className=\"infoBlock\">If you want more flexibility you can tune convertion process with some options</p>\n        </div>\n    )\n}\n\nexport default AppInfo;","export const BASE_TITLE = 'SVG to SVGHMI';\n// export const API_SERVER = 'http://localhost:2800/';\n// export const API_SERVER = 'http://192.168.7.141:2800/';\nexport const API_SERVER = 'https://server.cirillsokolov.com:2800/';\nexport const CONFIG_DEFAULT = {\n    svgo: [\n        'convertStyleToAttrs',\n        'removeUnusedNS',\n        'convertColors',\n        'removeEditorsNSData',\n        'removeDoctype',\n        'removeDimensions',\n        'removeMetadata',\n        'sortDefsChildren',\n        'sortAttrs',\n        'moveGroupAttrsToElems',\n        {\n            name: 'removeAttrs',\n            params: {\n                // attrs: '(sketch|stroke-dasharray)',\n                attrs: '(sketch)',\n            },\n        },\n    ],\n    optimization: {\n        delRefs: true,\n        moveGradients: true,\n        addDefaults: true,\n        delGradientTransform: true,\n        connectBgColor: true,\n        polyToPath: true,\n        bgColorId: ['bgColor'],\n        addFlipInterface: true,\n    }\n}","import { Dropzone, FileItem } from \"@dropzone-ui/react\";\nimport { useState } from 'react';\nimport { API_SERVER } from \"../../config/constant\";\n\nimport './dropfiles.css';\n\nfunction Dropfiles(props) {\n    const { id, files, setFiles, onUploaded } = props;\n    const [showArrow, setShowArror] = useState(false);\n\n    const updateFiles = (incommingFiles) => {\n        // console.log(incommingFiles)\n        if (incommingFiles.length === 0) {\n            setShowArror(false);\n            return;\n        }\n        setFiles(incommingFiles);\n        setShowArror(true);\n    };\n\n    const onDelete = (id) => {\n        const newFiles = files.filter((x) => x.id !== id);\n        if (newFiles.length === 0) {\n            setShowArror(false);\n        }\n        setFiles(newFiles);\n        \n    };\n\n    const uploadFinished = (files) => {\n        // console.log(`Uploaded ${files.length} files`);\n        onUploaded();\n        setShowArror(false);\n    }\n\n    return (\n        <div className=\"dropfiles\">\n            <h3 className=\"dropfile-header\">Upload your files here</h3>\n            {showArrow ? <div className=\"arrow bounce\"></div> : null}\n            <Dropzone\n                accept=\".svg\"\n                label=\"Drop your svg files here\"\n                onChange={updateFiles}\n                value={files}\n                maxFiles={100}\n                maxFileSize={1024000}\n                url={`${API_SERVER}upload-files/${id}`}\n                onUploadFinish={uploadFinished} >\n                {files.map((file) => (\n                    <FileItem onDelete={onDelete} {...file} preview />\n                ))}\n            </Dropzone>\n        </div>\n    );\n}\n\nexport default Dropfiles;\n","import './checkBoxItem.css';\n\nconst CheckBoxItem = (props) => {\n    const { checked, onClick, id, section, label } = props;\n\n    const onCheck = () => {\n        onClick(section, id, !checked);\n    }\n\n    return (\n        <div className=\"cbx-item\">\n            <input\n                className=\"inp-cbx\"\n                id={id}\n                checked={checked}\n                onChange={onCheck}\n                type=\"checkbox\"\n                style={{display: \"none\"}} />\n            <label className=\"cbx\"htmlFor={id}>\n                <span>\n                    <svg width=\"12px\" height=\"10px\" viewBox=\"0 0 12 10\">\n                        <polyline points=\"1.5 6 4.5 9 10.5 1\"></polyline>\n                    </svg>\n                </span>\n                <span>{label}</span>\n            </label>\n        </div>\n    )\n}\n\nexport default CheckBoxItem;","import './colorControl.css';\n\nconst ColorControl = (props) => {\n    const { labels, onChange } = props;\n\n    const onIdChange = (e) => {\n        const value = e.target.value.replace(' ', '').split(',');\n        onChange('optimization', 'bgColorId', value);\n    }\n\n    return (\n        <label htmlFor=\"inp\" className=\"inp\">\n            <input type=\"text\" id=\"inp\" value={labels} onChange={onIdChange} />\n                <span className=\"label\">Element's IDs</span>\n                <span className=\"focus-bg\"></span>\n        </label>\n    )\n}\n\nexport default ColorControl;","// import downloadjs from 'downloadjs';\nimport { API_SERVER } from \"../../config/constant\";\n\nimport './controls.css';\n\nconst Controls = (props) => {\n    const { downloadId, optimized, onOptimize, uploaded, loader } = props;\n \n    const onDownload = async () => {\n        try {\n            const res = await fetch(`${API_SERVER}download/${downloadId}`);\n            const blob = await res.blob();\n            const element = document.createElement(\"a\");\n            element.href = URL.createObjectURL(blob);\n            element.download = 'svghmi.zip'\n            document.body.appendChild(element); // Required for this to work in FireFox\n            element.click(); // simulate link click\n            // downloadjs(blob, 'svghmi.zip');\n        } catch (Err) {\n            console.error('Something went wrong with downloading...');\n        }\n        \n    }\n\n    const onClick = async () => {\n        if (uploaded && !optimized) {\n            onOptimize();\n        } else if (optimized) {\n            onDownload();\n        }\n    }\n\n    let spanClass = loader ? 'loader' : 'btnText';\n    let spanText = optimized ? 'Download' : 'Convert';\n    let btnClass = 'btnCtrl';\n    if (loader) {\n        spanText = '';\n    }\n    if (!uploaded && !optimized) {\n        btnClass += ' btnDisabled';\n        spanText = 'Upload before';\n    }\n\n    return (\n        <>\n            <button \n                className={btnClass}\n                onClick={onClick}>\n                    <span className={spanClass}>{spanText}</span>\n            </button>\n        </>\n    );\n}\n\nexport default Controls;\n","import './error.css';\n\nconst Error = (props) => {\n    return (\n        <div className=\"error-message\">\n            <span className=\"error-text\">{props.text}</span>\n        </div>\n    )\n}\n\nexport default Error;\n","import CheckBoxItem from \"../checkBoxItem/checkBoxItem\";\nimport ColorControl from \"../colorControl/colorControl\";\nimport Controls from \"../controls/controls\";\nimport Error from \"../error/error\";\n\nimport './svghmi-preferences.css';\n\nconst SvghmiPreferences = (props) => {\n    const { config, onConfigChanged, error } = props;\n\n    const ShowColorControl = config.optimization.connectBgColor ? \n        <ColorControl\n            labels={config.optimization.bgColorId}\n            onChange={onConfigChanged} />\n        : null;\n\n    return (\n        <div className='svghmi-preferences'>\n            <Controls\n                onOptimize={props.onOptimize}\n                downloadId={props.downloadId}\n                loader={props.loader}\n                uploaded={props.uploaded}\n                optimized={props.optimized} />\n            {error ? <Error text=\"=( Sorry, something went wrong, try another svg files...\" /> : null}\n            <div className=\"wrap-collabsible\">\n                <input id=\"collapsible1\" className=\"toggle\" type=\"checkbox\" />\n                <label htmlFor=\"collapsible1\" className=\"lbl-toggle\">Options</label>\n                <div className=\"collapsible-content\">\n                    <div className=\"content-inner\">\n                        <CheckBoxItem\n                            id=\"addDefaults\"\n                            label=\"Add default values into Gradients\"\n                            section=\"optimization\"\n                            checked={config.optimization.addDefaults}\n                            onClick={onConfigChanged} />\n                        <CheckBoxItem\n                            id=\"delGradientTransform\"\n                            label=\"Remove <gradientTransform> attribute and recalculate x(cx), y(cy)\"\n                            section=\"optimization\"\n                            checked={config.optimization.delGradientTransform}\n                            onClick={onConfigChanged} />\n                        <CheckBoxItem\n                            id=\"delRefs\"\n                            label=\"Delete href and xlink:href in gradients\"\n                            section=\"optimization\"\n                            checked={config.optimization.delRefs}\n                            onClick={onConfigChanged} />\n                        <CheckBoxItem\n                            id=\"moveGradients\"\n                            label=\"Move gradients to <defs/>\"\n                            section=\"optimization\"\n                            checked={config.optimization.moveGradients}\n                            onClick={onConfigChanged} />\n                        <CheckBoxItem\n                            id=\"addFlipInterface\"\n                            label=\"Add Flip interface into SVGHMI\"\n                            section=\"optimization\"\n                            checked={config.optimization.addFlipInterface}\n                            onClick={onConfigChanged} />\n                        <CheckBoxItem\n                            id=\"convertShapeToPath\"\n                            label=\"Shape to Path\"\n                            section=\"svgo\"\n                            checked={config.svgo.includes(\"convertShapeToPath\")}\n                            onClick={onConfigChanged} />\n                        <CheckBoxItem\n                            id=\"polyToPath\"\n                            label=\"Poly to Path\"\n                            section=\"optimization\"\n                            checked={config.optimization.polyToPath}\n                            onClick={onConfigChanged} />\n                        <CheckBoxItem\n                            id=\"convertColors\"\n                            label=\"convert colors from rgb() to #rrggbb, from #rrggbb to #rgb\"\n                            section=\"svgo\"\n                            checked={config.svgo.includes(\"convertColors\")}\n                            onClick={onConfigChanged} />\n                        <CheckBoxItem\n                            id=\"removeDimensions\"\n                            label=\"Remove Width/Height and add viewBox if it's missing \"\n                            section=\"svgo\"\n                            checked={config.svgo.includes(\"removeDimensions\")}\n                            onClick={onConfigChanged} />\n                        <CheckBoxItem\n                            id=\"connectBgColor\"\n                            label=\"Attach bgColorXX to BasicColor interface property\"\n                            section=\"optimization\"\n                            checked={config.optimization.connectBgColor}\n                            onClick={onConfigChanged} />\n                        {ShowColorControl}\n                    </div>\n                </div>\n            </div>\n            <div className=\"wrap-collabsible\">\n                <input id=\"collapsible2\" className=\"toggle\" type=\"checkbox\" />\n                <label htmlFor=\"collapsible2\" className=\"lbl-toggle\">Options Help</label>\n                <div className=\"collapsible-content\">\n                    <div className=\"content-inner\">\n                        <div className=\"option-text\">\n                            <h4>Add default values</h4>\n                            <p className=\"paragraphDesc\">Linear and Radial gradients can be without some attributes.\n                                For example <i>\"stop-color\" and \"stop-opacity\"</i>,\n                                for LinearGradient can be <i>\"x1\", \"x2\", \"y1\", \"y2\"</i>, for RadialGradient can be <i>\"cx\", \"cy\"</i>.\n                                When this option is activated program adds default value for \"stop-color\" it will be black color,\n                                for \"stop-opacity\" is null.\n                            </p>\n                        </div>\n                        <div className=\"option-text\">\n                            <h4 className=\"option-header\">Remove gradientTransform</h4>\n                            <p className=\"paragraphDesc\">Some Vector Graphics Editors can add <i>gradientTransform</i> attributes to Gradients,\n                                and <i>WinCC Unified</i> don't understand it and displays it as black.\n                                This option try to recalculate transformed coordinates to x and y. Sometimes it can break gradient.</p>\n                        </div>\n                        <div className=\"option-text\">\n                            <h4 className=\"option-header\">Delete <i>href</i> and <i>xlink:href</i> in gradients</h4>\n                            <p className=\"paragraphDesc\">description</p>\n                        </div>\n                        <div className=\"option-text\">\n                            <h4>Move Gradients to \"defs\"</h4>\n                            <p className=\"paragraphDesc\">description</p>\n                        </div>\n\n                        <div className=\"option-text\">\n                            <h4>Convert all Shapes to Path</h4>\n                            <p className=\"paragraphDesc\">description</p>\n                        </div>\n                        <div className=\"option-text\">\n                            <h4>Add Flip interface</h4>\n                        </div>\n\n\n                        <div className=\"option-text\">\n                            <h4>Convert colors from rgb() to #rrggbb, from #rrggbb to #rgb</h4>\n                            <p className=\"paragraphDesc\">description</p>\n                        </div>\n\n                        <div className=\"option-text\">\n                            <h4>Attach bgColor to BasicColor</h4>\n                            <p className=\"paragraphDesc\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum</p>\n                        </div>\n                        <div className=\"option-text\">\n                            <h4>delete user defined attributes</h4>\n                            <p className=\"paragraphDesc\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum</p>\n                        </div>\n                        <div className=\"option-text\">\n                            <h4>remove custom attributes like \"stroke-dasharray\"</h4>\n                            <p className=\"paragraphDesc\">description</p>\n                        </div>\n\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default SvghmiPreferences;\n","import { Component } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport AppInfo from '../app-info/app-info';\nimport Dropfiles from '../dropfiles/dropfiles';\nimport SvghmiPreferences from '../svghmi-preferences/svghmi-preferences';\nimport { API_SERVER, CONFIG_DEFAULT } from './../../config/constant';\n\nimport './app.css';\nimport './baner.css';\n\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            clientId: uuidv4().split('-').join(''),\n            downloadId: '',\n            files: [],\n            optimizeConf: CONFIG_DEFAULT,\n            optimized: false,\n            uploaded: false,\n            loader: false,\n            error: false,\n        }\n    }\n\n    async componentDidMount() {\n        try {\n            const res = await fetch('https://geolocation-db.com/json/');\n            const data = await res.json();\n            await fetch(`${API_SERVER}user_from`, {\n                method: 'POST',\n                mode: 'cors',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(data),\n            })\n        } catch (Err) {\n            console.log('Fetch error...');\n        }\n    }\n\n    setFiles = (files) => {\n        this.setState({ files });\n    }\n\n    optimizeFiles = async (conf) => {\n        this.setState({\n            files: [],\n            loader: true,\n        });\n        const options = {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(this.state.optimizeConf),\n        };\n\n        try {\n            const response = await fetch(`${API_SERVER}optimize/${this.state.clientId}`, options);\n            await response.json()\n            if (response.status) {\n                this.setState((prevState) => ({\n                    optimized: true,\n                    uploaded: false,\n                    downloadId: prevState.clientId,\n                    clientId: uuidv4().split('-').join(''),\n                    loader: false,\n                    error: false,\n                }));\n            }\n        } catch (Err) {\n            console.error('Something went wrong...');\n            this.setState((prevState) => ({\n                optimized: false,\n                uploaded: false,\n                downloadId: prevState.clientId,\n                clientId: uuidv4().split('-').join(''),\n                loader: false,\n                error: true,\n            }));\n        }\n    }\n\n    onConfigChanged = (section, id, value) => {\n        if (section === 'optimization') {\n            this.setState((prev) => {\n                const newConf = { ...prev.optimizeConf };\n                newConf[section][id] = value;\n                return { optimizeConf: newConf };\n            });\n        }\n        if (section === 'svgo') {\n            this.setState((prev) => {\n                let newConf = { ...prev.optimizeConf };\n                if (newConf.svgo.includes(id)) {\n                    newConf.svgo = newConf.svgo.filter(elem => elem !== id);\n                } else {\n                    newConf.svgo.push(id);\n                }\n                return { optimizeConf: newConf };\n            });\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"app\">\n                <header className=\"color-full clear-fix\">\n                    <div className=\"text_color_full block3\">\n                        SVG to <span className='svghmi'>SVGHMI</span>\n                    </div>\n                </header>\n                <AppInfo />\n                <Dropfiles\n                    files={this.state.files}\n                    setFiles={this.setFiles}\n                    onUploaded={() => (this.setState({ optimized: false, uploaded: true }))}\n                    id={this.state.clientId} />\n                \n                <SvghmiPreferences\n                    error={this.state.error}\n                    onOptimize={this.optimizeFiles}\n                    downloadId={this.state.downloadId}\n                    loader={this.state.loader}\n                    uploaded={this.state.uploaded}\n                    optimized={this.state.optimized}\n                    config={this.state.optimizeConf}\n                    onConfigChanged={this.onConfigChanged} />\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app/app';\nimport { BASE_TITLE } from './config/constant';\n\nimport './index.css';\n\ndocument.title = `${BASE_TITLE} | Professional Engineering Tool`;\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}