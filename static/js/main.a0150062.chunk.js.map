{"version":3,"sources":["components/app-info/app-info.js","config/constant.js","components/dropfiles/dropfiles.js","components/checkBoxItem/checkBoxItem.js","components/inputFieldItem/inputFieldItem.js","components/controls/controls.js","components/error/error.js","components/svghmi-preferences/svghmi-preferences.js","components/app/app.js","index.js"],"names":["AppInfo","className","API_SERVER","CONFIG_DEFAULT","svgo","name","params","attrs","optimization","delRefs","moveGradients","addDefaults","delGradientTransform","connectBgColor","polyToPath","bgColorId","addFlipInterface","Dropfiles","props","id","files","setFiles","onUploaded","useState","showArrow","setShowArror","onDelete","newFiles","filter","x","length","accept","label","onChange","incommingFiles","value","maxFiles","maxFileSize","url","onUploadFinish","map","file","preview","CheckBoxItem","checked","onClick","section","type","style","display","htmlFor","width","height","viewBox","points","InputFieldItem","labels","header","e","target","replace","split","Controls","downloadId","optimized","onOptimize","uploaded","loader","onDownload","fetch","res","blob","downloadjs","console","error","spanClass","spanText","btnClass","Error","text","SvghmiPreferences","config","onConfigChanged","ShowColorControl","removeIds","forEach","elem","str","slice","includes","App","setState","optimizeFiles","conf","ids","state","optimizeConf","options","method","headers","body","JSON","stringify","clientId","response","json","status","prevState","uuidv4","join","prev","newConf","push","data","mode","log","this","Component","document","title","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a0150062.chunk.js","sourcesContent":["import \"./app-info.css\";\n\nconst AppInfo = () => {\n    return (\n        <div className=\"app-info\">\n            <h1>A simple tool for creating dynamic widgets (SVGHMI)</h1>\n            <p className=\"infoBlock\">With this tool your can easily convert your SVG files to Siemens WinCC Unified format <i>SVGHMI</i> and create dynamic widgets in just a couple of steps</p>\n            <ul>\n                <li>First of all you need some svg file for convertion</li>\n                <li>Choose or Drag'n'Drop you files into field below</li>\n                <li>Push upload button</li>\n                <li>Push Convert button</li>\n                <li>And finaly download your ready zip archive</li>\n            </ul>\n            <p className=\"infoBlock\">If you want more flexibility you can tune convertion process with some options</p>\n        </div>\n    )\n}\n\nexport default AppInfo;","export const BASE_TITLE = 'SVG to SVGHMI';\n// export const API_SERVER = 'http://localhost:2800/';\n// export const API_SERVER = 'http://192.168.7.141:2800/';\nexport const API_SERVER = 'https://server.cirillsokolov.com:2800/';\nexport const CONFIG_DEFAULT = {\n    svgo: [\n        'convertStyleToAttrs',\n        'removeUnusedNS',\n        'convertColors',\n        'removeEditorsNSData',\n        'removeDoctype',\n        'removeDimensions',\n        'removeMetadata',\n        'sortDefsChildren',\n        'sortAttrs',\n        'moveGroupAttrsToElems',\n        {\n            name: 'removeAttrs',\n            params: {\n                // attrs: '(sketch|stroke-dasharray)',\n                attrs: '(sketch)',\n            },\n        },\n    ],\n    optimization: {\n        delRefs: true,\n        moveGradients: true,\n        addDefaults: true,\n        delGradientTransform: true,\n        connectBgColor: true,\n        polyToPath: true,\n        bgColorId: ['bgColor'],\n        addFlipInterface: true,\n    }\n}","import { Dropzone, FileItem } from \"@dropzone-ui/react\";\nimport { useState } from 'react';\nimport { API_SERVER } from \"../../config/constant\";\n\nimport './dropfiles.css';\n\nfunction Dropfiles(props) {\n    const { id, files, setFiles, onUploaded } = props;\n    const [showArrow, setShowArror] = useState(false);\n\n    const updateFiles = (incommingFiles) => {\n        // console.log(incommingFiles)\n        if (incommingFiles.length === 0) {\n            setShowArror(false);\n            return;\n        }\n        setFiles(incommingFiles);\n        setShowArror(true);\n    };\n\n    const onDelete = (id) => {\n        const newFiles = files.filter((x) => x.id !== id);\n        if (newFiles.length === 0) {\n            setShowArror(false);\n        }\n        setFiles(newFiles);\n        \n    };\n\n    const uploadFinished = (files) => {\n        // console.log(`Uploaded ${files.length} files`);\n        onUploaded();\n        setShowArror(false);\n    }\n\n    return (\n        <div className=\"dropfiles\">\n            <h3 className=\"dropfile-header\">Upload your files here</h3>\n            {showArrow ? <div className=\"arrow bounce\"></div> : null}\n            <Dropzone\n                accept=\".svg\"\n                label=\"Drop your svg files here\"\n                onChange={updateFiles}\n                value={files}\n                maxFiles={100}\n                maxFileSize={1024000}\n                url={`${API_SERVER}upload-files/${id}`}\n                onUploadFinish={uploadFinished} >\n                {files.map((file) => (\n                    <FileItem onDelete={onDelete} {...file} preview />\n                ))}\n            </Dropzone>\n        </div>\n    );\n}\n\nexport default Dropfiles;\n","import './checkBoxItem.css';\n\nconst CheckBoxItem = (props) => {\n    const { checked, onClick, id, section, label } = props;\n\n    const onCheck = () => {\n        onClick(section, id, !checked);\n    }\n\n    return (\n        <div className=\"cbx-item\">\n            <input\n                className=\"inp-cbx\"\n                id={id}\n                checked={checked}\n                onChange={onCheck}\n                type=\"checkbox\"\n                style={{display: \"none\"}} />\n            <label className=\"cbx\"htmlFor={id}>\n                <span>\n                    <svg width=\"12px\" height=\"10px\" viewBox=\"0 0 12 10\">\n                        <polyline points=\"1.5 6 4.5 9 10.5 1\"></polyline>\n                    </svg>\n                </span>\n                <span>{label}</span>\n            </label>\n        </div>\n    )\n}\n\nexport default CheckBoxItem;","import './inputFieldItem.css';\n\nconst InputFieldItem = (props) => {\n    const { labels, onChange, id, section, header } = props;\n\n    const onIdChange = (e) => {\n        const value = e.target.value.replace(' ', '').split(',');\n        onChange(section, id, value);\n    }\n\n    return (\n        <label htmlFor=\"inp\" className=\"inp\">\n            <input type=\"text\" id=\"inp\" value={labels} onChange={onIdChange} />\n                <span className=\"label\">{header}</span>\n                <span className=\"focus-bg\"></span>\n        </label>\n    )\n}\n\nexport default InputFieldItem;","import downloadjs from 'downloadjs';\nimport { API_SERVER } from \"../../config/constant\";\n\nimport './controls.css';\n\nconst Controls = (props) => {\n    const { downloadId, optimized, onOptimize, uploaded, loader } = props;\n \n    const onDownload = async () => {\n        try {\n            const res = await fetch(`${API_SERVER}download/${downloadId}`);\n            const blob = await res.blob();\n            downloadjs(blob, 'svghmi.zip');\n        } catch (Err) {\n            console.error('Something went wrong with downloading...');\n        }\n        \n    }\n\n    const onClick = async () => {\n        if (uploaded && !optimized) {\n            onOptimize();\n        } else if (optimized) {\n            onDownload();\n        }\n    }\n\n    let spanClass = loader ? 'loader' : 'btnText';\n    let spanText = optimized ? 'Download' : 'Convert';\n    let btnClass = 'btnCtrl';\n    if (loader) {\n        spanText = '';\n    }\n    if (!uploaded && !optimized) {\n        btnClass += ' btnDisabled';\n        spanText = 'Upload before';\n    }\n\n    return (\n        <>\n            <button \n                className={btnClass}\n                onClick={onClick}>\n                    <span className={spanClass}>{spanText}</span>\n            </button>\n        </>\n    );\n}\n\nexport default Controls;\n","import './error.css';\n\nconst Error = (props) => {\n    return (\n        <div className=\"error-message\">\n            <span className=\"error-text\">{props.text}</span>\n        </div>\n    )\n}\n\nexport default Error;\n","import CheckBoxItem from \"../checkBoxItem/checkBoxItem\";\nimport InputFieldItem from \"../inputFieldItem/inputFieldItem\";\nimport Controls from \"../controls/controls\";\nimport Error from \"../error/error\";\n\nimport './svghmi-preferences.css';\n\nconst SvghmiPreferences = (props) => {\n    const { config, onConfigChanged, error } = props;\n\n    const ShowColorControl = config.optimization.connectBgColor ? \n        <InputFieldItem\n            section=\"optimization\"\n            id=\"bgColorId\"\n            header=\"Element's IDs\"\n            labels={config.optimization.bgColorId}\n            onChange={onConfigChanged} />\n        : null;\n    \n    let removeIds = '';\n    config.svgo.forEach(elem => {\n        if (elem.name === 'removeAttrs') {\n            const str = elem.params.attrs;\n            removeIds = str.slice(1, str.length - 1);\n        }\n    });\n\n    return (\n        <div className='svghmi-preferences'>\n            <Controls\n                onOptimize={props.onOptimize}\n                downloadId={props.downloadId}\n                loader={props.loader}\n                uploaded={props.uploaded}\n                optimized={props.optimized} />\n            {error ? <Error text=\"=( Sorry, something went wrong, try another svg files...\" /> : null}\n            <div className=\"wrap-collabsible\">\n                <input id=\"collapsible1\" className=\"toggle\" type=\"checkbox\" />\n                <label htmlFor=\"collapsible1\" className=\"lbl-toggle\">Options</label>\n                <div className=\"collapsible-content\">\n                    <div className=\"content-inner\">\n                        <CheckBoxItem\n                            id=\"addDefaults\"\n                            label=\"Add default values into Gradients\"\n                            section=\"optimization\"\n                            checked={config.optimization.addDefaults}\n                            onClick={onConfigChanged} />\n                        <CheckBoxItem\n                            id=\"delGradientTransform\"\n                            label=\"Remove <gradientTransform> attribute and recalculate x(cx), y(cy)\"\n                            section=\"optimization\"\n                            checked={config.optimization.delGradientTransform}\n                            onClick={onConfigChanged} />\n                        <CheckBoxItem\n                            id=\"delRefs\"\n                            label=\"Delete href and xlink:href in gradients\"\n                            section=\"optimization\"\n                            checked={config.optimization.delRefs}\n                            onClick={onConfigChanged} />\n                        <CheckBoxItem\n                            id=\"moveGradients\"\n                            label=\"Move gradients to <defs/>\"\n                            section=\"optimization\"\n                            checked={config.optimization.moveGradients}\n                            onClick={onConfigChanged} />\n                        <CheckBoxItem\n                            id=\"addFlipInterface\"\n                            label=\"Add Flip interface into SVGHMI\"\n                            section=\"optimization\"\n                            checked={config.optimization.addFlipInterface}\n                            onClick={onConfigChanged} />\n                        <CheckBoxItem\n                            id=\"convertShapeToPath\"\n                            label=\"Shape to Path\"\n                            section=\"svgo\"\n                            checked={config.svgo.includes(\"convertShapeToPath\")}\n                            onClick={onConfigChanged} />\n                        <CheckBoxItem\n                            id=\"polyToPath\"\n                            label=\"Poly to Path\"\n                            section=\"optimization\"\n                            checked={config.optimization.polyToPath}\n                            onClick={onConfigChanged} />\n                        <CheckBoxItem\n                            id=\"convertColors\"\n                            label=\"convert colors from rgb() to #rrggbb, from #rrggbb to #rgb\"\n                            section=\"svgo\"\n                            checked={config.svgo.includes(\"convertColors\")}\n                            onClick={onConfigChanged} />\n                        <CheckBoxItem\n                            id=\"removeDimensions\"\n                            label=\"Remove Width/Height and add viewBox if it's missing \"\n                            section=\"svgo\"\n                            checked={config.svgo.includes(\"removeDimensions\")}\n                            onClick={onConfigChanged} />\n                        <CheckBoxItem\n                            id=\"connectBgColor\"\n                            label=\"Attach bgColorXX to BasicColor interface property\"\n                            section=\"optimization\"\n                            checked={config.optimization.connectBgColor}\n                            onClick={onConfigChanged} />\n                        {ShowColorControl}\n                        <InputFieldItem\n                            section=\"svgo\"\n                            id=\"removeAttrs\"\n                            header=\"Remove user defined Ids\"\n                            labels={removeIds}\n                            onChange={onConfigChanged} />\n                    </div>\n                </div>\n            </div>\n            <div className=\"wrap-collabsible\">\n                <input id=\"collapsible2\" className=\"toggle\" type=\"checkbox\" />\n                <label htmlFor=\"collapsible2\" className=\"lbl-toggle\">Options Help</label>\n                <div className=\"collapsible-content\">\n                    <div className=\"content-inner\">\n                        <div className=\"option-text\">\n                            <h4>Add default values</h4>\n                            <p className=\"paragraphDesc\">Linear and Radial gradients can be without some attributes.\n                                For example <i>\"stop-color\" and \"stop-opacity\"</i>,\n                                for LinearGradient can be <i>\"x1\", \"x2\", \"y1\", \"y2\"</i>, for RadialGradient can be <i>\"cx\", \"cy\"</i>.\n                                When this option is activated program adds default value for \"stop-color\" it will be black color,\n                                for \"stop-opacity\" is null.\n                            </p>\n                        </div>\n                        <div className=\"option-text\">\n                            <h4 className=\"option-header\">Remove gradientTransform</h4>\n                            <p className=\"paragraphDesc\">Some Vector Graphics Editors can add <i>gradientTransform</i> attributes to Gradients,\n                                and <i>WinCC Unified</i> don't \"understand\" it and displays it as black.\n                                This option try to recalculate transformed coordinates to x and y. Sometimes it can break gradient.</p>\n                        </div>\n                        <div className=\"option-text\">\n                            <h4 className=\"option-header\">Delete <i>href</i> and <i>xlink:href</i> in gradients</h4>\n                            <p className=\"paragraphDesc\">Some gradients can link to other gradients. And WinCC doesn't \"understand\" such gradients. and displays it as black. Thus these attributes must be removed to display correctly.</p>\n                        </div>\n                        <div className=\"option-text\">\n                            <h4 className=\"option-header\">Move Gradients to \"defs\"</h4>\n                            <p className=\"paragraphDesc\">Moving all gradients in document to <i>defs</i> element.</p>\n                        </div>\n\n                        <div className=\"option-text\">\n                            <h4 className=\"option-header\">Add Flip interface</h4>\n                            <p className=\"paragraphDesc\">Optionally you can add a flip property to mirror the widget horizontally.</p>\n                        </div>\n\n                        <div className=\"option-text\">\n                            <h4 className=\"option-header\">Convert Shape to Path</h4>\n                            <p className=\"paragraphDesc\">Optionally you can convert all shapes like (rectangle, circle ellipse, etc.) to path element.</p>\n                        </div>\n\n                        <div className=\"option-text\">\n                            <h4 className=\"option-header\">Convert Poly to Path</h4>\n                            <p className=\"paragraphDesc\">WinCC doesn't \"understand\" polyline and polygon, so by default it will be converted to path element.</p>\n                        </div>\n\n                        <div className=\"option-text\">\n                            <h4 className=\"option-header\">Convert colors from rgb() to #rrggbb, from #rrggbb to #rgb</h4>\n                            <p className=\"paragraphDesc\">Optionally you can unify colors to one type.</p>\n                        </div>\n\n                        <div className=\"option-text\">\n                            <h4 className=\"option-header\">Remove Width and Height</h4>\n                            <p className=\"paragraphDesc\">Remove from svg attributes width and height for better display in WinCC.</p>\n                        </div>\n\n                        <div className=\"option-text\">\n                            <h4 className=\"option-header\">Attach bgColor to BasicColor</h4>\n                            <p className=\"paragraphDesc\">You can specify the ids of the elements you want to change the color from the WinCC poperties. By default, the application searches for all IDs with the name <i>bgColor</i> and binds the fill attribute of svg element to the property with name BasicColor. All ids that have <i>bgColor</i> in the name will be bind to BasicColor. Separated by commas, you can specify several ID names to which you want to assign color change properties. For example, the string <i>bgColor,AlternateColor,AnotherColor</i> will result in the creation of three property fields <i>BasicColor</i>, <i>AlternateColor1</i>, <i>AlternateColor2</i>. If the elements with the specified IDs are not found in the svg document, then the property field associated with it will not be added.</p>\n                        </div>\n                        <div className=\"option-text\">\n                            <h4 className=\"option-header\">Delete user defined attributes</h4>\n                            <p className=\"paragraphDesc\">Optionaly you can delete from svg attributes what you want. Because some vector editors can add there custom attributes. And WinCC will throw the error if find it.</p>\n                        </div>\n\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default SvghmiPreferences;\n","import { Component } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport AppInfo from '../app-info/app-info';\nimport Dropfiles from '../dropfiles/dropfiles';\nimport SvghmiPreferences from '../svghmi-preferences/svghmi-preferences';\nimport { API_SERVER, CONFIG_DEFAULT } from './../../config/constant';\n\nimport './app.css';\nimport './baner.css';\n\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            clientId: uuidv4().split('-').join(''),\n            downloadId: '',\n            files: [],\n            optimizeConf: CONFIG_DEFAULT,\n            optimized: false,\n            uploaded: false,\n            loader: false,\n            error: false,\n        }\n    }\n\n    async componentDidMount() {\n        try {\n            const res = await fetch('https://geolocation-db.com/json/');\n            const data = await res.json();\n            await fetch(`${API_SERVER}user_from`, {\n                method: 'POST',\n                mode: 'cors',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(data),\n            })\n        } catch (Err) {\n            console.log('Fetch error...');\n        }\n    }\n\n    setFiles = (files) => {\n        this.setState({ files });\n    }\n\n    optimizeFiles = async (conf) => {\n        this.setState({\n            files: [],\n            loader: true,\n        });\n        // remove empty bgColor ids\n        const ids = this.state.optimizeConf.optimization.bgColorId.filter((elem) => elem !== '');\n        const { optimizeConf } = this.state;\n        optimizeConf.optimization.bgColorId = ids;\n        if (ids.length === 1 && ids[0] === '') {\n            optimizeConf.optimization.connectBgColor = false;\n        }\n        const options = {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(optimizeConf),\n        };\n\n        try {\n            const response = await fetch(`${API_SERVER}optimize/${this.state.clientId}`, options);\n            await response.json()\n            if (response.status) {\n                this.setState((prevState) => ({\n                    optimized: true,\n                    uploaded: false,\n                    downloadId: prevState.clientId,\n                    clientId: uuidv4().split('-').join(''),\n                    loader: false,\n                    error: false,\n                }));\n            }\n        } catch (Err) {\n            console.error('Something went wrong...');\n            this.setState((prevState) => ({\n                optimized: false,\n                uploaded: false,\n                downloadId: prevState.clientId,\n                clientId: uuidv4().split('-').join(''),\n                loader: false,\n                error: true,\n            }));\n        }\n    }\n\n    onConfigChanged = (section, id, value) => {\n        if (section === 'optimization') {\n            this.setState((prev) => {\n                const newConf = { ...prev.optimizeConf };\n                newConf[section][id] = value;\n                return { optimizeConf: newConf };\n            });\n        }\n        if (section === 'svgo') {\n            if (id === 'removeAttrs') {\n                this.setState((prev) => {\n                    let newConf = { ...prev.optimizeConf };\n                    newConf.svgo = newConf.svgo.map((elem) => {\n                        if (elem.name === 'removeAttrs') {\n                            return {\n                                name: 'removeAttrs',\n                                params: {\n                                    attrs: `(${value})`,\n                                },\n                            };\n                        }\n                        return elem;\n                    })\n                    newConf.svgo = newConf.svgo.filter(elem => elem !== id);\n                    return { optimizeConf: newConf };\n                });\n                return;\n            }\n            this.setState((prev) => {\n                let newConf = { ...prev.optimizeConf };\n                if (newConf.svgo.includes(id)) {\n                    newConf.svgo = newConf.svgo.filter(elem => elem !== id);\n                } else {\n                    newConf.svgo.push(id);\n                }\n                return { optimizeConf: newConf };\n            });\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"app\">\n                <header className=\"color-full clear-fix\">\n                    <div className=\"text_color_full block3\">\n                        SVG to <span className='svghmi'>SVGHMI</span>\n                    </div>\n                </header>\n                <AppInfo />\n                <Dropfiles\n                    files={this.state.files}\n                    setFiles={this.setFiles}\n                    onUploaded={() => (this.setState({ optimized: false, uploaded: true }))}\n                    id={this.state.clientId} />\n                \n                <SvghmiPreferences\n                    error={this.state.error}\n                    onOptimize={this.optimizeFiles}\n                    downloadId={this.state.downloadId}\n                    loader={this.state.loader}\n                    uploaded={this.state.uploaded}\n                    optimized={this.state.optimized}\n                    config={this.state.optimizeConf}\n                    onConfigChanged={this.onConfigChanged} />\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app/app';\nimport { BASE_TITLE } from './config/constant';\n\nimport './index.css';\n\ndocument.title = `${BASE_TITLE} | Professional Engineering Tool`;\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}