(this.webpackJsonpsvghmi=this.webpackJsonpsvghmi||[]).push([[0],{31:function(e,t,i){},51:function(e,t,i){},52:function(e,t,i){},53:function(e,t,i){},54:function(e,t,i){},55:function(e,t,i){},56:function(e,t,i){},57:function(e,t,i){},58:function(e,t,i){},59:function(e,t,i){"use strict";i.r(t);var n=i(0),o=i.n(n),c=i(20),s=i.n(c),a=i(5),r=i(3),l=i(4),d=i(21),p=i(22),u=i(26),j=i(25),h=i(61),b=(i(31),i(1)),m=function(){return Object(b.jsxs)("div",{className:"app-info",children:[Object(b.jsx)("h1",{children:"A simple tool for creating dynamic widgets (SVGHMI)"}),Object(b.jsxs)("p",{className:"infoBlock",children:["With this tool your can easily convert your SVG files to Siemens WinCC Unified format ",Object(b.jsx)("i",{children:"SVGHMI"}),"and create dynamic widgets in just a couple of steps"]}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:"First of all you need some svg file for convertion"}),Object(b.jsx)("li",{children:"Choose or Drag'n'Drop you files into field below"}),Object(b.jsx)("li",{children:"Push upload button"}),Object(b.jsx)("li",{children:"Push Convert button"}),Object(b.jsx)("li",{children:"And finaly download your ready zip archive"})]}),Object(b.jsx)("p",{className:"infoBlock",children:"If you want more flexibility you can tune convertion process with some options"})]})},f=i(24),x=i(11),O="https://server.cirillsokolov.com:2800/",v={svgo:["convertStyleToAttrs","removeUnusedNS","convertColors","removeEditorsNSData","removeDoctype","removeDimensions","removeMetadata","sortDefsChildren","sortAttrs","moveGroupAttrsToElems",{name:"removeAttrs",params:{attrs:"(sketch)"}}],optimization:{delRefs:!0,moveGradients:!0,addDefaults:!0,delGradientTransform:!0,connectBgColor:!0,polyToPath:!0,bgColorId:["bgColor","anColor","alColor","aloColor"],addFlipInterface:!0}};i(51);var g=function(e){var t=e.id,i=e.files,o=e.setFiles,c=e.onUploaded,s=Object(n.useState)(!1),r=Object(f.a)(s,2),l=r[0],d=r[1],p=function(e){var t=i.filter((function(t){return t.id!==e}));0===t.length&&d(!1),o(t)};return Object(b.jsxs)("div",{className:"dropfiles",children:[Object(b.jsx)("h3",{className:"dropfile-header",children:"Upload your files here"}),l?Object(b.jsx)("div",{className:"arrow bounce"}):null,Object(b.jsx)(x.a,{accept:".svg",label:"Drop your svg files here",onChange:function(e){0!==e.length?(o(e),d(!0)):d(!1)},value:i,maxFiles:100,maxFileSize:1024e3,url:"".concat(O,"upload-files/").concat(t),onUploadFinish:function(e){c(),d(!1)},children:i.map((function(e){return Object(b.jsx)(x.b,Object(a.a)(Object(a.a)({onDelete:p},e),{},{preview:!0}))}))})]})},C=(i(52),function(e){var t=e.checked,i=e.onClick,n=e.id,o=e.section,c=e.label;return Object(b.jsxs)("div",{className:"cbx-item",children:[Object(b.jsx)("input",{className:"inp-cbx",id:n,checked:t,onChange:function(){i(o,n,!t)},type:"checkbox",style:{display:"none"}}),Object(b.jsxs)("label",{className:"cbx",htmlFor:n,children:[Object(b.jsx)("span",{children:Object(b.jsx)("svg",{width:"12px",height:"10px",viewBox:"0 0 12 10",children:Object(b.jsx)("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}),Object(b.jsx)("span",{children:c})]})]})}),N=i(23),y=i.n(N),k=(i(53),function(e){var t=e.downloadId,i=e.optimized,n=e.onOptimize,o=e.uploaded,c=e.loader,s=function(){var e=Object(l.a)(Object(r.a)().mark((function e(){var i,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(O,"download/").concat(t));case 3:return i=e.sent,e.next=6,i.blob();case 6:n=e.sent,y()(n,"svghmi.zip"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Something went wrong with downloading...");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(l.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o&&!i?n():i&&s();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=c?"loader":"btnText",p=i?"Download":"Convert",u="btnCtrl";return c&&(p=""),o||i||(u+=" btnDisabled",p="Upload before"),Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("button",{className:u,onClick:a,children:Object(b.jsx)("span",{className:d,children:p})})})}),w=(i(54),function(e){return Object(b.jsx)("div",{className:"error-message",children:Object(b.jsx)("span",{className:"error-text",children:e.text})})}),z=(i(55),function(e){var t=e.config,i=e.onConfigChanged,n=e.error;return Object(b.jsxs)("div",{className:"svghmi-preferences",children:[Object(b.jsx)(k,{onOptimize:e.onOptimize,downloadId:e.downloadId,loader:e.loader,uploaded:e.uploaded,optimized:e.optimized}),n?Object(b.jsx)(w,{text:"=( Sorry, something went wrong, try another svg files..."}):null,Object(b.jsxs)("div",{className:"wrap-collabsible",children:[Object(b.jsx)("input",{id:"collapsible1",className:"toggle",type:"checkbox"}),Object(b.jsx)("label",{htmlFor:"collapsible1",className:"lbl-toggle",children:"Options"}),Object(b.jsx)("div",{className:"collapsible-content",children:Object(b.jsxs)("div",{className:"content-inner",children:[Object(b.jsx)(C,{id:"addDefaults",label:"Add default values into Gradients",section:"optimization",checked:t.optimization.addDefaults,onClick:i}),Object(b.jsx)(C,{id:"delGradientTransform",label:"Remove <gradientTransform> attribute and recalculate x(cx), y(cy)",section:"optimization",checked:t.optimization.delGradientTransform,onClick:i}),Object(b.jsx)(C,{id:"delRefs",label:"Delete href and xlink:href in gradients",section:"optimization",checked:t.optimization.delRefs,onClick:i}),Object(b.jsx)(C,{id:"moveGradients",label:"Move gradients to <defs/>",section:"optimization",checked:t.optimization.moveGradients,onClick:i}),Object(b.jsx)(C,{id:"addFlipInterface",label:"Add Flip interface into SVGHMI",section:"optimization",checked:t.optimization.addFlipInterface,onClick:i}),Object(b.jsx)(C,{id:"convertShapeToPath",label:"Convert Shapes to Path",section:"svgo",checked:t.svgo.includes("convertShapeToPath"),onClick:i}),Object(b.jsx)(C,{id:"convertColors",label:"convert colors from rgb() to #rrggbb, from #rrggbb to #rgb",section:"svgo",checked:t.svgo.includes("convertColors"),onClick:i}),Object(b.jsx)(C,{id:"connectBgColor",label:"Attach bgColorXX to BasicColor interface property",section:"optimization",checked:t.optimization.connectBgColor,onClick:i}),Object(b.jsx)(C,{id:"removeDimensions",label:"Remove Width/Height and add viewBox if it's missing ",section:"svgo",checked:t.svgo.includes("removeDimensions"),onClick:i})]})})]}),Object(b.jsxs)("div",{className:"wrap-collabsible",children:[Object(b.jsx)("input",{id:"collapsible2",className:"toggle",type:"checkbox"}),Object(b.jsx)("label",{htmlFor:"collapsible2",className:"lbl-toggle",children:"Options Help"}),Object(b.jsx)("div",{className:"collapsible-content",children:Object(b.jsxs)("div",{className:"content-inner",children:[Object(b.jsxs)("div",{className:"option-text",children:[Object(b.jsx)("h4",{children:"Add default values"}),Object(b.jsxs)("p",{className:"paragraphDesc",children:["Linear and Radial gradients can be without some attributes. For example ",Object(b.jsx)("i",{children:'"stop-color" and "stop-opacity"'}),", for LinearGradient can be ",Object(b.jsx)("i",{children:'"x1", "x2", "y1", "y2"'}),", for RadialGradient can be ",Object(b.jsx)("i",{children:'"cx", "cy"'}),'. When this option is activated program adds default value for "stop-color" it will be black color, for "stop-opacity" is null.']})]}),Object(b.jsxs)("div",{className:"option-text",children:[Object(b.jsx)("h4",{className:"option-header",children:"Remove gradientTransform"}),Object(b.jsxs)("p",{className:"paragraphDesc",children:["Some Vector Graphics Editors can add ",Object(b.jsx)("i",{children:"gradientTransform"})," attributes to Gradients, and ",Object(b.jsx)("i",{children:"WinCC Unified"})," don't understand it and displays it as black. This option try to recalculate transformed coordinates to x and y. Sometimes it can break gradient."]})]}),Object(b.jsxs)("div",{className:"option-text",children:[Object(b.jsxs)("h4",{className:"option-header",children:["Delete ",Object(b.jsx)("i",{children:"href"})," and ",Object(b.jsx)("i",{children:"xlink:href"})," in gradients"]}),Object(b.jsx)("p",{className:"paragraphDesc",children:"description"})]}),Object(b.jsxs)("div",{className:"option-text",children:[Object(b.jsx)("h4",{children:'Move Gradients to "defs"'}),Object(b.jsx)("p",{className:"paragraphDesc",children:"description"})]}),Object(b.jsxs)("div",{className:"option-text",children:[Object(b.jsx)("h4",{children:"Convert all Shapes to Path"}),Object(b.jsx)("p",{className:"paragraphDesc",children:"description"})]}),Object(b.jsx)("div",{className:"option-text",children:Object(b.jsx)("h4",{children:"Add Flip interface"})}),Object(b.jsxs)("div",{className:"option-text",children:[Object(b.jsx)("h4",{children:"Convert colors from rgb() to #rrggbb, from #rrggbb to #rgb"}),Object(b.jsx)("p",{className:"paragraphDesc",children:"description"})]}),Object(b.jsxs)("div",{className:"option-text",children:[Object(b.jsx)("h4",{children:"Attach bgColor to BasicColor"}),Object(b.jsx)("p",{className:"paragraphDesc",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum"})]}),Object(b.jsxs)("div",{className:"option-text",children:[Object(b.jsx)("h4",{children:"delete user defined attributes"}),Object(b.jsx)("p",{className:"paragraphDesc",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum"})]}),Object(b.jsxs)("div",{className:"option-text",children:[Object(b.jsx)("h4",{children:'remove custom attributes like "stroke-dasharray"'}),Object(b.jsx)("p",{className:"paragraphDesc",children:"description"})]})]})})]})]})}),S=(i(56),i(57),function(e){Object(u.a)(i,e);var t=Object(j.a)(i);function i(e){var n;return Object(d.a)(this,i),(n=t.call(this,e)).setFiles=function(e){n.setState({files:e})},n.optimizeFiles=function(){var e=Object(l.a)(Object(r.a)().mark((function e(t){var i,o;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({files:[],loader:!0}),i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n.state.optimizeConf)},e.prev=2,e.next=5,fetch("".concat(O,"optimize/").concat(n.state.clientId),i);case 5:return o=e.sent,e.next=8,o.json();case 8:o.status&&n.setState((function(e){return{optimized:!0,uploaded:!1,downloadId:e.clientId,clientId:Object(h.a)().split("-").join(""),loader:!1,error:!1}})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("Something went wrong..."),n.setState((function(e){return{optimized:!1,uploaded:!1,downloadId:e.clientId,clientId:Object(h.a)().split("-").join(""),loader:!1,error:!0}}));case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),n.onConfigChanged=function(e,t,i){"optimization"===e&&n.setState((function(n){var o=Object(a.a)({},n.optimizeConf);return o[e][t]=i,{optimizeConf:o}})),"svgo"===e&&n.setState((function(e){var i=Object(a.a)({},e.optimizeConf);return i.svgo.includes(t)?i.svgo=i.svgo.filter((function(e){return e!==t})):i.svgo.push(t),{optimizeConf:i}}))},n.state={clientId:Object(h.a)().split("-").join(""),downloadId:"",files:[],optimizeConf:v,optimized:!1,uploaded:!1,loader:!1,error:!1},n}return Object(p.a)(i,[{key:"componentDidMount",value:function(){var e=Object(l.a)(Object(r.a)().mark((function e(){var t,i;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://geolocation-db.com/json/");case 3:return t=e.sent,e.next=6,t.json();case 6:return i=e.sent,e.next=9,fetch("".concat(O,"user_from"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("Fetch error...");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{className:"app",children:[Object(b.jsx)("header",{className:"color-full clear-fix",children:Object(b.jsxs)("div",{className:"text_color_full block3",children:["SVG to ",Object(b.jsx)("span",{className:"svghmi",children:"SVGHMI"})]})}),Object(b.jsx)(m,{}),Object(b.jsx)(g,{files:this.state.files,setFiles:this.setFiles,onUploaded:function(){return e.setState({optimized:!1,uploaded:!0})},id:this.state.clientId}),Object(b.jsx)(z,{error:this.state.error,onOptimize:this.optimizeFiles,downloadId:this.state.downloadId,loader:this.state.loader,uploaded:this.state.uploaded,optimized:this.state.optimized,config:this.state.optimizeConf,onConfigChanged:this.onConfigChanged})]})}}]),i}(n.Component)),D=S;i(58);document.title="".concat("SVG to SVGHMI"," | Professional Engineering Tool"),s.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(D,{})}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.fa921154.chunk.js.map